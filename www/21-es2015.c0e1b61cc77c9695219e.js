(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"/QED":function(n,l,t){"use strict";t.d(l,"a",(function(){return a}));var u=t("mrSG"),e=t("8Y7J"),s=(t("ZZ/e"),t("ODeS")),r=t("s7LF");t("qfBg"),t("syeQ");class a{constructor(n,l,t,u,s,a,i){this.popoverCtrl=n,this.modalController=l,this.route=t,this.grantService=u,this.events=s,this.userService=a,this.fb=i,this.searchBar=!1,this.searchResult=[],this.picture=!1,this.onChange=new e.m,this.getUserData(),this.events.subscribe("profile-change",n=>{n&&this.getUserData()}),this.path=this.route.snapshot.pathFromRoot[3].url[0].path,"my-grants"!=this.path&&"latest-grants"!=this.path&&"trending-grants"!=this.path||(this.searchBar=!0),this.myForm=this.fb.group({searchBox:new r.f})}ngOnInit(){}userMenuPopover(n){return u.__awaiter(this,void 0,void 0,(function*(){const n=yield this.popoverCtrl.create({component:s.a,event,translucent:!0,cssClass:"poopover-user-option"});return yield n.present()}))}getUserData(){this.userService.getUser().subscribe(n=>{this.userData=n.data,this.userData&&this.userData.hasOwnProperty("picture")&&this.userData.picture&&(this.picture=!0)})}onSearch(){this.onChange.emit(this.myForm.controls.searchBox.value)}selectGrant(n){this.myForm.controls.searchBox.setValue(n.grantName),this.onSearch()}}},"/zMi":function(n,l,t){"use strict";t.d(l,"a",(function(){return o}));var u=t("XNiG"),e=t("CHF0"),s=t("lGQG"),r=t("Of3r"),a=t("8Y7J"),i=t("IheW");let o=(()=>{class n extends r.a{constructor(n,l){super(),this.auth=n,this.http=l,this.userDataSubject=new u.a,this.onUserDataChange=this.userDataSubject.asObservable(),localStorage.getItem(e.a.localStorage_keys.userData)&&(this.userData=JSON.parse(localStorage.getItem(e.a.localStorage_keys.userData))),this.subscriptions()}subscriptions(){this.auth.authState.subscribe(n=>{})}get getUserData(){return this.userData}setUserData(n){this.userData=n,localStorage.setItem(e.a.localStorage_keys.userData,JSON.stringify(this.userData)),this.userDataSubject.next(this.userData)}}return n.ngInjectableDef=a.Tb({factory:function(){return new n(a.Ub(s.a),a.Ub(i.c))},token:n,providedIn:"root"}),n})()},"02rE":function(n,l,t){"use strict";var u=t("8Y7J"),e=t("oBZk"),s=t("ZZ/e"),r=t("s7LF"),a=t("SVse");t("/QED"),t("iInd"),t("syeQ"),t("qfBg"),t.d(l,"a",(function(){return i})),t.d(l,"b",(function(){return g}));var i=u.sb({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{-o-object-fit:fill;object-fit:fill;border-radius:50%}ion-header[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{margin-right:15px}ion-header[_ngcontent-%COMP%]   .ion-buttons[_ngcontent-%COMP%]{width:0!important}ion-header[_ngcontent-%COMP%]   .sc-ion-card-md-s[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:unset}ion-header[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0;margin-bottom:8px!important}"]],data:{}});function o(n){return u.Qb(0,[(n()(),u.ub(0,0,null,null,1,"ion-title",[],null,null,null,e.ab,e.z)),u.tb(1,49152,null,0,s.Ab,[u.h,u.k,u.z],null,null)],null,null)}function c(n){return u.Qb(0,[(n()(),u.ub(0,0,null,null,15,"ion-item",[["class","custom-search"],["lines","none"]],null,null,null,e.N,e.m)),u.tb(1,49152,null,0,s.H,[u.h,u.k,u.z],{lines:[0,"lines"]},null),(n()(),u.ub(2,0,null,0,2,"ion-label",[["slot","start"]],null,null,null,e.O,e.n)),u.tb(3,49152,null,0,s.N,[u.h,u.k,u.z],null,null),(n()(),u.Ob(-1,0,["Find"])),(n()(),u.ub(5,0,null,0,6,"ion-input",[["formControlName","searchBox"],["mode","md"],["placeholder","grant ..."],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var e=!0;return"ionBlur"===l&&(e=!1!==u.Gb(n,6)._handleBlurEvent(t.target)&&e),"ionChange"===l&&(e=!1!==u.Gb(n,6)._handleInputEvent(t.target)&&e),e}),e.M,e.l)),u.tb(6,16384,null,0,s.Pb,[u.k],null,null),u.Lb(1024,null,r.n,(function(n){return[n]}),[s.Pb]),u.tb(8,671744,null,0,r.g,[[3,r.b],[8,null],[8,null],[6,r.n],[2,r.y]],{name:[0,"name"]},null),u.Lb(2048,null,r.o,null,[r.g]),u.tb(10,16384,null,0,r.p,[[4,r.o]],null,null),u.tb(11,49152,null,0,s.G,[u.h,u.k,u.z],{mode:[0,"mode"],placeholder:[1,"placeholder"],type:[2,"type"]},null),(n()(),u.ub(12,0,null,0,3,"ion-button",[["color","primary"],["mode","md"],["slot","end"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.onSearch()&&u),u}),e.C,e.b)),u.tb(13,49152,null,0,s.k,[u.h,u.k,u.z],{color:[0,"color"],mode:[1,"mode"]},null),(n()(),u.ub(14,0,null,0,1,"ion-icon",[["class","gp-search"]],null,null,null,e.L,e.k)),u.tb(15,49152,null,0,s.C,[u.h,u.k,u.z],null,null)],(function(n,l){n(l,1,0,"none"),n(l,8,0,"searchBox"),n(l,11,0,"md","grant ...","search"),n(l,13,0,"primary","md")}),(function(n,l){n(l,5,0,u.Gb(l,10).ngClassUntouched,u.Gb(l,10).ngClassTouched,u.Gb(l,10).ngClassPristine,u.Gb(l,10).ngClassDirty,u.Gb(l,10).ngClassValid,u.Gb(l,10).ngClassInvalid,u.Gb(l,10).ngClassPending)}))}function h(n){return u.Qb(0,[(n()(),u.ub(0,0,null,null,0,"img",[["alt",""],["class","image"],["style","max-width: 20%;"]],[[8,"src",4]],null,null,null,null))],null,(function(n,l){var t=l.component;n(l,0,0,(null==t.userData?null:t.userData.picture)||"")}))}function b(n){return u.Qb(0,[(n()(),u.ub(0,0,null,null,1,"ion-icon",[["name","person"],["size","large"]],null,null,null,e.L,e.k)),u.tb(1,49152,null,0,s.C,[u.h,u.k,u.z],{name:[0,"name"],size:[1,"size"]},null)],(function(n,l){n(l,1,0,"person","large")}),null)}function g(n){return u.Qb(0,[(n()(),u.ub(0,0,null,null,31,"ion-header",[["mode","md"],["no-border",""]],null,null,null,e.K,e.j)),u.tb(1,49152,null,0,s.B,[u.h,u.k,u.z],{mode:[0,"mode"]},null),(n()(),u.ub(2,0,null,0,29,"ion-card",[],null,null,null,e.F,e.d)),u.tb(3,49152,null,0,s.m,[u.h,u.k,u.z],null,null),(n()(),u.ub(4,0,null,0,27,"ion-toolbar",[["color","light"]],null,null,null,e.bb,e.A)),u.tb(5,49152,null,0,s.Cb,[u.h,u.k,u.z],{color:[0,"color"]},null),(n()(),u.ub(6,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,e.D,e.c)),u.tb(7,49152,null,0,s.l,[u.h,u.k,u.z],null,null),(n()(),u.ub(8,0,null,0,1,"ion-menu-button",[],null,null,null,e.R,e.r)),u.tb(9,49152,null,0,s.R,[u.h,u.k,u.z],null,null),(n()(),u.jb(16777216,null,0,1,null,o)),u.tb(11,16384,null,0,a.k,[u.P,u.M],{ngIf:[0,"ngIf"]},null),(n()(),u.ub(12,0,null,0,7,"form",[["class",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,t){var e=!0;return"submit"===l&&(e=!1!==u.Gb(n,14).onSubmit(t)&&e),"reset"===l&&(e=!1!==u.Gb(n,14).onReset()&&e),e}),null,null)),u.tb(13,16384,null,0,r.z,[],null,null),u.tb(14,540672,null,0,r.i,[[8,null],[8,null]],{form:[0,"form"]},null),u.Lb(2048,null,r.b,null,[r.i]),u.tb(16,16384,null,0,r.q,[[4,r.b]],null,null),(n()(),u.ub(17,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),u.jb(16777216,null,null,1,null,c)),u.tb(19,16384,null,0,a.k,[u.P,u.M],{ngIf:[0,"ngIf"]},null),(n()(),u.ub(20,0,null,0,11,"ion-buttons",[["slot","end"]],null,null,null,e.D,e.c)),u.tb(21,49152,null,0,s.l,[u.h,u.k,u.z],null,null),(n()(),u.ub(22,0,null,0,4,"div",[["class","user-icon"]],null,null,null,null,null)),(n()(),u.jb(16777216,null,null,1,null,h)),u.tb(24,16384,null,0,a.k,[u.P,u.M],{ngIf:[0,"ngIf"]},null),(n()(),u.jb(16777216,null,null,1,null,b)),u.tb(26,16384,null,0,a.k,[u.P,u.M],{ngIf:[0,"ngIf"]},null),(n()(),u.ub(27,0,null,0,4,"ion-button",[["class","user-profile-menu"],["mode","md"]],null,null,null,e.C,e.b)),u.tb(28,49152,null,0,s.k,[u.h,u.k,u.z],{mode:[0,"mode"]},null),(n()(),u.ub(29,0,null,0,2,"span",[],null,null,null,null,null)),(n()(),u.Ob(30,null,["",""])),(n()(),u.ub(31,0,null,null,0,"i",[["class","gp-arrow-down"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.userMenuPopover(t)&&u),u}),null,null))],(function(n,l){var t=l.component;n(l,1,0,"md"),n(l,5,0,"light"),n(l,11,0,!t.searchBar),n(l,14,0,t.myForm),n(l,19,0,t.searchBar),n(l,24,0,t.picture),n(l,26,0,!t.picture),n(l,28,0,"md")}),(function(n,l){var t=l.component;n(l,12,0,u.Gb(l,16).ngClassUntouched,u.Gb(l,16).ngClassTouched,u.Gb(l,16).ngClassPristine,u.Gb(l,16).ngClassDirty,u.Gb(l,16).ngClassValid,u.Gb(l,16).ngClassInvalid,u.Gb(l,16).ngClassPending),n(l,30,0,null!=t.userData&&t.userData.userName?null==t.userData?null:t.userData.userName:"")}))}},ODeS:function(n,l,t){"use strict";t.d(l,"a",(function(){return u})),t("lGQG"),t("ZZ/e");class u{constructor(n,l,t,u){this.router=n,this.toastr=l,this.popoverCtrl=t,this.authService=u,this.toastTitle="User"}ngOnInit(){}dismiss(){this.popoverCtrl.dismiss()}signOut(){this.authService.logout(),this.toastr.success("Sign out successfully",this.toastTitle),this.router.navigate(["auth"]),this.dismiss()}profile(){this.router.navigate(["pages/user-profile"]),this.dismiss()}}},TbC0:function(n,l,t){"use strict";t.r(l);var u=t("8Y7J");class e{constructor(){}}class s{}var r=t("hCpU"),a=t("pMnS"),i=t("02rE"),o=t("/QED"),c=t("ZZ/e"),h=t("iInd"),b=t("syeQ"),g=t("qfBg"),p=t("s7LF"),d=u.sb({encapsulation:0,styles:[[".welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}"]],data:{}});function m(n){return u.Qb(0,[(n()(),u.ub(0,0,null,null,1,"app-header",[],null,null,null,i.b,i.a)),u.tb(1,114688,null,0,o.a,[c.Lb,c.Gb,h.a,b.a,c.e,g.a,p.e],null,null)],(function(n,l){n(l,1,0)}),null)}function f(n){return u.Qb(0,[(n()(),u.ub(0,0,null,null,1,"app-home",[],null,null,null,m,d)),u.tb(1,49152,null,0,e,[],null,null)],null,null)}var v=u.qb("app-home",e,f,{},{},[]),k=t("SVse"),C=t("ej43"),y=t("IheW"),D=t("/zMi"),O=t("lGQG"),G=t("mJ8l"),S=t("iIA+");t.d(l,"HomeModuleNgFactory",(function(){return M}));var M=u.rb(s,[],(function(n){return u.Db([u.Eb(512,u.j,u.cb,[[8,[r.a,a.a,v]],[3,u.j],u.x]),u.Eb(4608,k.m,k.l,[u.u,[2,k.A]]),u.Eb(4608,p.x,p.x,[]),u.Eb(4608,c.a,c.a,[u.z,u.g]),u.Eb(4608,c.Gb,c.Gb,[c.a,u.j,u.r]),u.Eb(4608,c.Lb,c.Lb,[c.a,u.j,u.r]),u.Eb(4608,p.e,p.e,[]),u.Eb(4608,C.a,C.a,[y.c,D.a,O.a]),u.Eb(4608,b.a,b.a,[y.c]),u.Eb(1073742336,k.c,k.c,[]),u.Eb(1073742336,p.w,p.w,[]),u.Eb(1073742336,p.k,p.k,[]),u.Eb(1073742336,c.Eb,c.Eb,[]),u.Eb(1073742336,p.t,p.t,[]),u.Eb(1073742336,G.a,G.a,[]),u.Eb(1073742336,S.a,S.a,[]),u.Eb(1073742336,h.q,h.q,[[2,h.v],[2,h.m]]),u.Eb(1073742336,s,s,[]),u.Eb(1024,h.k,(function(){return[[{path:"",component:e}]]}),[])])}))},ej43:function(n,l,t){"use strict";t.d(l,"a",(function(){return r}));var u=t("Of3r"),e=t("lJxs"),s=t("CHF0");t("lGQG"),t("/zMi");class r extends u.a{constructor(n,l,t){super(),this.http=n,this.userManagementService=l,this.authService=t,this.user=JSON.parse(localStorage.getItem(s.a.localStorage_keys.userData))}signin(n){return this.http.post(`${this.apiUrl}/auth/login`,n).pipe(Object(e.a)(n=>(delete n.data.privateKey,localStorage.setItem(s.a.localStorage_keys.token,n.data.token),delete n.data.token,delete n.data.picture,this.userManagementService.setUserData(n.data),this.authService.setAuthState({is_logged_in:!0}),n)))}getUserData(){return this.http.get(`${this.apiUrl}/user/${this.user._id}`,this.getHttpOptions())}signup(n){return this.http.post(`${this.apiUrl}/auth/signUp`,n).pipe(Object(e.a)(n=>n))}}},hCpU:function(n,l,t){"use strict";var u=t("8Y7J"),e=t("oBZk"),s=t("ZZ/e"),r=t("ODeS"),a=t("iInd"),i=t("EApP"),o=t("lGQG");t.d(l,"a",(function(){return g}));var c=u.sb({encapsulation:0,styles:[[""]],data:{}});function h(n){return u.Qb(0,[(n()(),u.ub(0,0,null,null,6,"ion-buttons",[["slot","end"]],null,null,null,e.D,e.c)),u.tb(1,49152,null,0,s.l,[u.h,u.k,u.z],null,null),(n()(),u.ub(2,0,null,0,4,"ion-button",[["class","user-profile-menu"],["mode","md"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.profile()&&u),u}),e.C,e.b)),u.tb(3,49152,null,0,s.k,[u.h,u.k,u.z],{mode:[0,"mode"]},null),(n()(),u.ub(4,0,null,0,1,"ion-icon",[["name","contact"]],null,null,null,e.L,e.k)),u.tb(5,49152,null,0,s.C,[u.h,u.k,u.z],{name:[0,"name"]},null),(n()(),u.Ob(-1,0,["\xa0 My Profile "])),(n()(),u.ub(7,0,null,null,0,"hr",[["class","dassed-line"]],null,null,null,null,null)),(n()(),u.ub(8,0,null,null,6,"ion-buttons",[["slot","end"]],null,null,null,e.D,e.c)),u.tb(9,49152,null,0,s.l,[u.h,u.k,u.z],null,null),(n()(),u.ub(10,0,null,0,4,"ion-button",[["class","user-profile-menu"],["mode","md"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.signOut()&&u),u}),e.C,e.b)),u.tb(11,49152,null,0,s.k,[u.h,u.k,u.z],{mode:[0,"mode"]},null),(n()(),u.ub(12,0,null,0,1,"ion-icon",[["name","log-out"]],null,null,null,e.L,e.k)),u.tb(13,49152,null,0,s.C,[u.h,u.k,u.z],{name:[0,"name"]},null),(n()(),u.Ob(-1,0,["\xa0 Sign Out "]))],(function(n,l){n(l,3,0,"md"),n(l,5,0,"contact"),n(l,11,0,"md"),n(l,13,0,"log-out")}),null)}function b(n){return u.Qb(0,[(n()(),u.ub(0,0,null,null,1,"app-menu-popover",[],null,null,null,h,c)),u.tb(1,114688,null,0,r.a,[a.m,i.j,s.Lb,o.a],null,null)],(function(n,l){n(l,1,0)}),null)}var g=u.qb("app-menu-popover",r.a,b,{},{},[])},"iIA+":function(n,l,t){"use strict";t.d(l,"a",(function(){return u}));class u{}},mJ8l:function(n,l,t){"use strict";t.d(l,"a",(function(){return u})),t("ODeS");class u{}},syeQ:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var u=t("Of3r");class e extends u.a{constructor(n){super(),this.http=n}createGrant(n){return this.http.post(this.apiUrl+"/grant",n,this.getHttpOptions())}getAll(){return this.http.get(this.apiUrl+"/grant",this.getHttpOptions())}getById(n){return this.http.get(this.apiUrl+"/grant/get/"+n,this.getHttpOptions())}getGrantCreatedByMe(){return this.http.get(this.apiUrl+"/grant/createdByMe",this.getHttpOptions())}getGrantFundedByMe(){return this.http.get(this.apiUrl+"/grant/fundedByMe",this.getHttpOptions())}getGrantManagedByMe(){return this.http.get(this.apiUrl+"/grant/managedByMe",this.getHttpOptions())}getTrendingGrants(){return this.http.get(this.apiUrl+"/grant/trendingGrants",this.getHttpOptions())}}}}]);