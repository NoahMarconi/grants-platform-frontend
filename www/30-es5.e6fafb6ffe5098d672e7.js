(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"R/V9":function(t,n,a){"use strict";a.r(n);var e=a("CcnG"),i=a("mrSG"),l=a("syeQ"),s=a("wd/R"),r=function(){function t(t,n,a){this.route=t,this.grantService=n,this.toastr=a,this.grantId="",this.statusEnum={PENDING:"pending",COMPLETED:"completed",TOBERECEIVED:"tobereceived"},this.toastTitle="Grant Funding",this.multipleMilestones=!1,this.processing=!1,this.submitted=!1,this.allowFunding=!0,this.grantFund={_id:"",grant:"",donor:"",amount:null},this.grantId=this.route.snapshot.params.id||"",console.log("this.grantId",this.grantId),i.__awaiter(this,void 0,void 0,(function(){var t,n,a,e,l=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.grantService.getById(this.grantId).toPromise()];case 1:return t=r.sent(),this.grant=t.data,console.log("this.grant",this.grant),"multipleMilestones"==this.grant.type?(this.multipleMilestones=!0,n=!0,this.grant.multipleMilestones=this.grant.multipleMilestones.map((function(t){var a,e=(new Date).toISOString(),r=s(t.completionDate).isAfter(s(e));return r&&(n?(a=l.statusEnum.TOBERECEIVED,n=!1):a=l.statusEnum.PENDING),r||(a=l.statusEnum.COMPLETED),t.completionDate=s(t.completionDate).format("DD/MM/YYYY"),i.__assign({},t,{status:a})}))):(this.grant.singleDeliveryDate.completionDate=s(this.grant.singleDeliveryDate.completionDate).format("DD/MM/YYYY"),this.grant.singleDeliveryDate.fundingExpiryDate=s(this.grant.singleDeliveryDate.fundingExpiryDate).format("DD/MM/YYYY"),a=(new Date).toISOString(),e=s(this.grant.singleDeliveryDate.completionDate).isAfter(s(a)),this.grant.singleDeliveryDate.status=e?this.statusEnum.COMPLETED:this.statusEnum.TOBERECEIVED),console.log("this.grant.grantManager",this.grant.grantManager),"cancel"==this.grant.status&&(this.allowFunding=!1),[2]}}))}))}return t.prototype.ngOnInit=function(){},t}(),o=a("YBy7"),u=function(){return function(){console.log("GrantDetailsModule")}}(),g=a("hCpU"),c=a("pMnS"),b=a("D3Dn"),h=a("jfhi"),p=a("ENsk"),D=a("GePm"),G=a("p9yP"),d=a("02rE"),m=a("/QED"),E=a("ZZ/e"),f=a("ZYCi"),v=a("qfBg"),M=a("gIcY"),w=a("oBZk"),I=a("SZbH"),y=e.ub({encapsulation:0,styles:[[""]],data:{}});function Y(t){return e.Sb(0,[(t()(),e.wb(0,0,null,null,1,"app-header",[],null,null,null,d.b,d.a)),e.vb(1,114688,null,0,m.a,[E.Lb,E.Gb,f.a,l.a,E.e,v.a,M.e],null,null),(t()(),e.wb(2,0,null,null,1,"ion-content",[["color","light"]],null,null,null,w.I,w.h)),e.vb(3,49152,null,0,E.u,[e.h,e.k,e.B],{color:[0,"color"]},null)],(function(t,n){t(n,1,0),t(n,3,0,"light")}),null)}function S(t){return e.Sb(0,[(t()(),e.wb(0,0,null,null,1,"app-grant-details",[],null,null,null,Y,y)),e.vb(1,114688,null,0,r,[f.a,l.a,I.j],null,null)],(function(t,n){t(n,1,0)}),null)}var B=e.sb("app-grant-details",r,S,{},{},[]),C=a("Ip0R"),O=a("ej43"),k=a("t/Na"),P=a("/zMi"),j=a("lGQG"),N=a("xb1B"),T=a("mJ8l"),_=a("iIA+"),x=a("BS6g"),F=a("3dvx"),L=a("KDGX"),R=a("yriW"),Z=a("tqz6");a.d(n,"GrantDetailsModuleNgFactory",(function(){return q}));var q=e.tb(u,[],(function(t){return e.Fb([e.Gb(512,e.j,e.eb,[[8,[g.a,c.a,b.a,h.a,p.a,D.a,G.a,B]],[3,e.j],e.z]),e.Gb(4608,C.m,C.l,[e.w,[2,C.A]]),e.Gb(4608,M.x,M.x,[]),e.Gb(4608,E.a,E.a,[e.B,e.g]),e.Gb(4608,E.Gb,E.Gb,[E.a,e.j,e.s]),e.Gb(4608,E.Lb,E.Lb,[E.a,e.j,e.s]),e.Gb(4608,M.e,M.e,[]),e.Gb(4608,O.a,O.a,[k.c,P.a,j.a]),e.Gb(4608,l.a,l.a,[k.c]),e.Gb(4608,N.a,N.a,[k.c]),e.Gb(1073742336,C.c,C.c,[]),e.Gb(1073742336,M.w,M.w,[]),e.Gb(1073742336,M.k,M.k,[]),e.Gb(1073742336,E.Eb,E.Eb,[]),e.Gb(1073742336,M.t,M.t,[]),e.Gb(1073742336,T.a,T.a,[]),e.Gb(1073742336,_.a,_.a,[]),e.Gb(1073742336,x.a,x.a,[]),e.Gb(1073742336,F.a,F.a,[]),e.Gb(1073742336,L.a,L.a,[]),e.Gb(1073742336,R.a,R.a,[]),e.Gb(1073742336,f.q,f.q,[[2,f.v],[2,f.m]]),e.Gb(1073742336,Z.a,Z.a,[]),e.Gb(1073742336,u,u,[]),e.Gb(1024,f.k,(function(){return[[{path:"",component:o.a}],[{path:"",component:o.a},{path:":id",component:r}]]}),[])])}))}}]);